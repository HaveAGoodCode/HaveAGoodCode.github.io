<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://unpkg.com/papercss@1.9.2/dist/paper.min.css" />
    <style>
        html {
            font-size: 1vmin;
            background: radial-gradient(#bd243f, #190d23);
        }

        @media (min-width: 500px) {
            html {
                font-size: 5px;
            }
        }

        body {
            color: #190d23;
            font-size: 12rem;
            padding: 1rem;
            font-family: "Courier New";
            overflow: hidden;
        }

        screen,
        screen *,
        screen *:before,
        screen *:after {
            box-sizing: border-box;
            content: "";
            display: block;
            transform-style: preserve-3d;
            position: relative;
            perspective: 200rem;
        }

        card {
            margin: auto;
            height: 96rem;
            width: 64.5rem;
            background: #fff;
            border-radius: 5rem;
            transform: translate3d(0, 0, 0) rotate3d(0, 0, 0, 0) rotate(1deg);
            position: relative;
            animation: rotate 3s linear;
        }

        card *,
        card *:before,
        card *:after,
        card:before,
        card:after {
            position: absolute;
            left: 0;
            top: 0;
        }

        card:before,
        card:after {
            width: 100%;
            height: 100%;
            transform: translate3d(0, 0, -0.2rem) rotateY(180deg);
            border-radius: 5rem;
            animation: light 3s linear;
            box-shadow: inset 0 0 1rem rgba(25, 13, 35, 0.5);
            background-image: linear-gradient(to right bottom, rgba(25, 13, 35, 0.2), rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0), rgba(25, 13, 35, 0.3));
        }

        card:after {
            transform: translate3d(0, 0, 0.2rem) rotateY(0deg);
            animation: light 3s linear reverse;
        }

        back {
            box-shadow: 0 0 0 1rem #302e9b, inset 0 0 0 1rem #302e9b, inset 0 0 0 2rem #f5e3e3;
            border-radius: 1rem;
            height: 93%;
            width: 90%;
            border: 2rem solid rgba(255, 255, 255, 0);
            background-position: 0.9rem 0.99rem;
            background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 0.99rem, #302e9b 0.99rem, #302e9b 1.98rem), repeating-linear-gradient(-45deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 0.99rem, #302e9b 0.99rem, #302e9b 1.98rem);
            transform: translate3d(0, 0, -0.1rem) rotateY(180deg);
            bottom: 0;
            right: 0;
            margin: auto;
        }

        shadow {
            margin: auto;
            height: 100rem;
            width: 70rem;
            background: radial-gradient(#190d23, rgba(255, 255, 255, 0));
            background: #190d23;
            border-radius: 10rem;
            position: relative;
            animation: shadow 3s linear;
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            transform: translate3d(0, 90rem, -50rem) rotateX(90deg) rotate(0deg) skewY(0) scale(1);
            opacity: 0.2;
            box-shadow: 0 0 2vmin #190d23, 0 0 5vmin #190d23;
        }

        hoverspace {
            height: 100%;
            width: 50rem;
            position: absolute;
            transform: translate3d(0, 0, 50rem);
            top: 0;
            left: 0;
            right: 0;
            margin: auto;
            cursor: grab;
        }

        hoverspace:hover~card {
            animation: rotatehover 3s linear;
        }

        hoverspace:hover~card:before,
        hoverspace:hover~card:after {
            animation: lighthover 3s linear;
        }

        hoverspace:hover~card:after {
            animation: lighthover 3s linear reverse;
        }

        hoverspace:hover~shadow {
            animation: shadowhover 3s linear;
        }

        @keyframes rotate {
            100% {
                transform: translate3d(0, 0, 0) rotate3d(1, 1, 0, -360deg) rotate(1deg);
            }
        }

        @keyframes rotatehover {
            100% {
                transform: translate3d(0, 0, 0) rotate3d(1, 1, 0, -360deg) rotate(1deg);
            }
        }

        @keyframes light {

            0%,
            100%,
            50% {
                background-color: rgba(255, 255, 255, 0);
            }

            25% {
                background-color: rgba(245, 227, 227, 0.7);
            }

            75% {
                background-color: #190d23;
            }
        }

        @keyframes lighthover {

            0%,
            100%,
            50% {
                background-color: rgba(255, 255, 255, 0);
            }

            25% {
                background-color: rgba(245, 227, 227, 0.7);
            }

            75% {
                background-color: #190d23;
            }
        }

        @keyframes shadow {
            25% {
                transform: translate3d(0, 90rem, -50rem) rotateX(90deg) rotate(90deg) skewY(-90deg);
                opacity: 0;
            }

            50% {
                transform: translate3d(0, 90rem, -50rem) rotateX(90deg) rotate(90deg) skewY(0);
                opacity: 0.2;
            }

            75% {
                transform: translate3d(0, 90rem, -50rem) rotateX(90deg) rotate(90deg) skewY(90deg);
                opacity: 0;
            }

            100% {
                transform: translate3d(0, 90rem, -50rem) rotateX(90deg) rotate(180deg) skewY(0);
                opacity: 0.2;
            }
        }

        @keyframes shadowhover {
            25% {
                transform: translate3d(0, 90rem, -50rem) rotateX(90deg) rotate(90deg) skewY(-90deg);
                opacity: 0;
            }

            50% {
                transform: translate3d(0, 90rem, -50rem) rotateX(90deg) rotate(90deg) skewY(0);
                opacity: 0.2;
            }

            75% {
                transform: translate3d(0, 90rem, -50rem) rotateX(90deg) rotate(90deg) skewY(90deg);
                opacity: 0;
            }

            100% {
                transform: translate3d(0, 90rem, -50rem) rotateX(90deg) rotate(180deg) skewY(0);
                opacity: 0.2;
            }
        }

        front {
            transform: translate3d(0, 0, 0.1rem) rotateY(0deg);
            height: 100%;
            width: 100%;
        }

        front>* {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }
    </style>
</head>

<body>
    <screen>
        <hoverspace></hoverspace>
        <shadow></shadow>
        <card>
            <back></back>
            <front>
                <!--up-->
                <x>
                    <x></x>
                    <x>
                        <x>
                            <x></x>
                        </x>
                        <!--body-->
                        <x>
                            <!--shirt-->
                            <x>
                                <x></x>
                                <x></x>
                            </x>
                            <!--coat-->
                            <x>
                                <x></x>
                            </x>
                            <x></x>
                        </x>
                        <x></x>
                        <x></x>
                        <x></x>
                        <x></x>
                        <x>
                            <x></x>
                            <x></x>
                            <x></x>
                            <x></x>
                            <x></x>
                            <x></x>
                            <x></x>
                            <x></x>
                        </x>
                        <x></x>
                        <x></x>
                        <x></x>
                        <x></x>
                        <x></x>
                        <x></x>
                    </x>
                </x>
                <!--down-->
                <x>
                    <x></x>
                    <x>
                        <x>
                            <x></x>
                        </x>
                        <!--body-->
                        <x>
                            <!--shirt-->
                            <x>
                                <x></x>
                                <x></x>
                            </x>
                            <!--coat-->
                            <x>
                                <x></x>
                            </x>
                            <x></x>
                        </x>
                        <x></x>
                        <x></x>
                        <x></x>
                        <x></x>
                        <x>
                            <x></x>
                            <x></x>
                            <x></x>
                            <x></x>
                            <x></x>
                            <x></x>
                            <x></x>
                            <x></x>
                        </x>
                        <x></x>
                        <x></x>
                        <x></x>
                        <x></x>
                        <x></x>
                        <x></x>
                    </x>
                </x>
            </front>
        </card>
    </screen>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const card = document.querySelector("card");
            const shadow = document.querySelector("shadow");
    
            let x = 0, y = 0, z = 0; // 當前位置
            let targetX = 0, targetY = 0, targetZ = 0; // 目標位置
    
            const bounds = { x: 100, y: 50, z: 50 }; // 邊界
            const speed = 0.05; // 平滑移動速度，越小越平滑
    
            function generateNewTarget() {
                targetX = (Math.random() - 0.5) * bounds.x * 2;
                targetY = (Math.random() - 0.5) * bounds.y * 2;
                targetZ = (Math.random() - 0.5) * bounds.z * 2;
            }
    
            function smoothMove() {
                // 平滑移動到目標點
                x += (targetX - x) * speed;
                y += (targetY - y) * speed;
                z += (targetZ - z) * speed;
    
                // 如果接近目標點，生成新的目標
                if (Math.abs(x - targetX) < 0.1 && Math.abs(y - targetY) < 0.1 && Math.abs(z - targetZ) < 0.1) {
                    generateNewTarget();
                }
    
                // 更新卡片和影子的位置與旋轉
                card.style.transform = `translate3d(${x}rem, ${y}rem, ${z}rem) rotate3d(${x}, ${y}, ${z}, ${z}deg)`;
                shadow.style.transform = `translate3d(${x}rem, ${y + 50}rem, ${z - 50}rem) rotateX(90deg) scale(${1 - z / bounds.z})`;
    
                requestAnimationFrame(smoothMove);
            }
    
            generateNewTarget(); // 初始化第一個目標點
            smoothMove(); // 啟動運動
        });
    </script>
    
</body>

</html>