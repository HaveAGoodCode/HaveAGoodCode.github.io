import ButtonChange from"./ButtonChange.js";import LocalStorageApi,{StorageType}from"./classes/localStorage/LocalStorageApi.js";var Theme;(e=>{e.Dark="dark",e.Light="light"})(Theme=Theme||{});class DarkMode{static init(){DarkMode.initTheme(),DarkMode.update(),DarkMode.button.addEventListener("click",()=>{DarkMode.toggleTheme(),DarkMode.update()}),ButtonChange.registerButton(DarkMode.button)}static initTheme(){var e=LocalStorageApi.read(StorageType.THEME),t=window.matchMedia("(prefers-color-scheme: dark)");DarkMode.currentThemeSetting=null===e?t.matches?Theme.Dark:Theme.Light:e}static toggleTheme(){DarkMode.currentThemeSetting=DarkMode.currentThemeSetting===Theme.Dark?Theme.Light:Theme.Dark,LocalStorageApi.write(StorageType.THEME,DarkMode.currentThemeSetting)}static update(){ButtonChange.changeButtonTheme(DarkMode.currentThemeSetting===Theme.Dark),DarkMode.updateThemeOnHtmlEl(DarkMode.currentThemeSetting)}static updateThemeOnHtmlEl(e){document.querySelector("html").setAttribute("data-theme",e.toString())}}DarkMode.button=document.querySelector("[data-theme-toggle]");export default DarkMode;export{Theme};