import assert from"../assert/assert.js";import Message from"../message/Message.js";import Setting from"../setting/Setting.js";var DramaType;(e=>{e.Ball="Ball",e.Function="Function",e.Image="Image",e.Code="Code",e.Answer="Answer"})(DramaType=DramaType||{});class Drama{static refresh(a){for(var[e,s]of Drama.replaceTypes)if(a.type===e){assert(null!==a.originalMessage);let e=a.originalMessage;for(var[r,t]of s)e=e.replace(r(),t());a.obj=e;break}return a}static clickOnceContains(e){return Drama.clickType.includes(e.type)}static findMessageID(a,s,r){if(0===Message.messages.length)throw new Error("Message.messages is empty");for(let e=0;e<Message.messages.length;e++){var t=Message.messages[e];if(!(void 0!==a&&t.type!==a||"string"==typeof s&&"string"==typeof t.obj&&!t.obj.includes(s)||"function"==typeof s&&"function"==typeof t.obj&&s.name!==t.obj.name||void 0!==s&&"string"!=typeof s&&"function"!=typeof s&&t.obj!==s||void 0!==r&&t.originalMessage!==r))return e}throw new Error("Message not found")}}Drama.replaceTypes=new Map([[DramaType.Ball,new Map([[()=>Setting.drama_time,()=>Message.getHelloMsg()]])]]),Drama.clickType=[DramaType.Code,DramaType.Ball];export default Drama;export{DramaType};