import{AnimationState}from"../enum/Types.js";import{animationStates}from"../constants/Constants.js";export default class KeyAnimation{static setObjAnimation(t,i,n){var a=KeyAnimation.calcWidth(t);animationStates[0]=AnimationState.TYPING,i.innerHTML=t,i.style.width=a+"ch",i.style.borderRightColor="rgb(0, 0, 0)",i.style.animation=`typing ${a/10}s steps(${t.length}), caret 0.8s steps(1) infinite`,setTimeout(()=>{KeyAnimation.clearObjAnimation(i),animationStates[0]=AnimationState.IDLE,n&&n()},a/10*1e3+500)}static clearObjAnimation(t){t.style.borderRightColor="transparent",t.style.animation=""}static deTypingAnimation(t,i){i.style.animation=`deTyping ${t/10}s steps(${i.innerHTML.length}), caret 0.8s steps(1) infinite`,setTimeout(()=>{KeyAnimation.clearObjAnimation(i)},t/10*1e3)}static calcWidth(t){var i,n=0;for(i of t)/[\u4e00-\u9fa5\uff0c\u3002\u3001\u300c\u300d\uff1b\uff1a\uff08\uff09\uff1f\uff01\u3010\u3011\u300a\u300b\u2014\u2026\u2013\u2018\u201c\u201d\uff0e]/.test(i)?n+=2:n+=1;return n}}