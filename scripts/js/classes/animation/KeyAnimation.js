var __awaiter=this&&this.__awaiter||function(t,s,y,r){return new(y=y||Promise)(function(i,n){function e(t){try{a(r.next(t))}catch(t){n(t)}}function o(t){try{a(r.throw(t))}catch(t){n(t)}}function a(t){var n;t.done?i(t.value):((n=t.value)instanceof y?n:new y(function(t){t(n)})).then(e,o)}a((r=r.apply(t,s||[])).next())})};class KeyAnimation{static get canContinue(){return KeyAnimation.continue}static setCanContinue(t){KeyAnimation.continue=t}static toggleContinue(){KeyAnimation.continue=!KeyAnimation.continue}static setObjAnimation(t,n,i){return __awaiter(this,void 0,void 0,function*(){KeyAnimation.toggleContinue(),KeyAnimation.setupObjAnimationStyles(n),yield KeyAnimation.typingAsync(t,n,30),yield KeyAnimation.finalizeAnimation(n,i)})}static typingAsync(o,a,s){return __awaiter(this,void 0,void 0,function*(){return new Promise(n=>{let i=0,e=()=>{var t;i>=o.length?n():(t=o[i],a.textContent+=t,i++,t=" "===t?0:s,setTimeout(e,t))};a.textContent="",setTimeout(e,s)})})}static setupObjAnimationStyles(t){t.style.borderRightColor="var('--caret-color')",t.style.animation="caret 0.8s steps(1) infinite"}static finalizeAnimation(n,i){return __awaiter(this,void 0,void 0,function*(){yield new Promise(t=>{setTimeout(()=>{n.style.borderRightColor="transparent",KeyAnimation.toggleContinue(),null!=i?i().then(t):t()},500)})})}static typing(t,n,i,e,o=0,a=!0){a?KeyAnimation.initializeTyping(n,t,i,e):o>=t.length?e():KeyAnimation.processTyping(t,n,i,e,o)}static initializeTyping(t,n,i,e){t.textContent="",setTimeout(()=>{KeyAnimation.typing(n,t,i,e,0,!1)},i)}static processTyping(t,n,i,e,o){var a=t[o],a=(n.textContent+=a," "===a?0:i);setTimeout(()=>{KeyAnimation.typing(t,n,i,e,o+1,!1)},a)}static setObjAnimation2(t,n){KeyAnimation.toggleContinue(),t(),KeyAnimation.finalizeObjAnimation2(n)}static finalizeObjAnimation2(t){setTimeout(()=>{KeyAnimation.toggleContinue(),null!=t&&t()},100)}}KeyAnimation.continue=!0,KeyAnimation.autoPlay=!0;export default KeyAnimation;